# Interface Catalog (Autogenerated)

This catalog lists Python classes, functions, and methods discovered in the repo.

## `analytics\audit_logger.py`

| Symbol | Kind | Signature |
|---|---|---|
| `log_broker_efficiency` | function | `def log_broker_efficiency(order_id, bid, ask, fill)` |

## `analytics\carry_model.py`

| Symbol | Kind | Signature |
|---|---|---|
| `CostOfCarry` | class | `class CostOfCarry` |
| `CostOfCarry.fair_value` | method | `def CostOfCarry.fair_value(self, spot, r, q, tau_years)` |
| `CostOfCarry.basis` | method | `def CostOfCarry.basis(self, futures_price, spot)` |

## `analytics\divergence.py`

| Symbol | Kind | Signature |
|---|---|---|
| `DivergenceZScore` | class | `class DivergenceZScore` |
| `DivergenceZScore.zscore` | method | `def DivergenceZScore.zscore(self, spread_series, lookback)` |
| `DivergenceZScore.compute_spread` | method | `def DivergenceZScore.compute_spread(self, spy_price, qqq_price)` |

## `analytics\gaps.py`

| Symbol | Kind | Signature |
|---|---|---|
| `GapAnalyzer` | class | `class GapAnalyzer` |
| `GapAnalyzer.gap_pct` | method | `def GapAnalyzer.gap_pct(self, open_price, prev_close)` |
| `GapAnalyzer.is_small_gap` | method | `def GapAnalyzer.is_small_gap(self, open_price, prev_close, threshold)` |
| `GapAnalyzer.gap_direction` | method | `def GapAnalyzer.gap_direction(self, open_price, prev_close)` |

## `analytics\indicators.py`

| Symbol | Kind | Signature |
|---|---|---|
| `rsi_wilder` | function | `def rsi_wilder(close, period)` |
| `_true_range` | function | `def _true_range(high, low, close)` |
| `adx_wilder` | function | `def adx_wilder(high, low, close, period)` |
| `iv_rank` | function | `def iv_rank(iv_series, window)` |
| `IndicatorPack` | class | `class IndicatorPack` |
| `IndicatorPack.from_inputs` | method | `def IndicatorPack.from_inputs(bars, iv_atm_series, adx_period, rsi_period, iv_rank_window)` |

## `analytics\metrics.py`

| Symbol | Kind | Signature |
|---|---|---|
| `summarize` | function | `def summarize(trades)` |
| `plot_metrics` | function | `def plot_metrics(trades, title)` |

## `analytics\realized_vol.py`

| Symbol | Kind | Signature |
|---|---|---|
| `RealizedVolCalculator` | class | `class RealizedVolCalculator` |
| `RealizedVolCalculator.compute_realized_variance` | method | `def RealizedVolCalculator.compute_realized_variance(self, close_prices, window)` |
| `RealizedVolCalculator.compute_realized_vol` | method | `def RealizedVolCalculator.compute_realized_vol(self, close_prices, window)` |

## `analytics\skew.py`

| Symbol | Kind | Signature |
|---|---|---|
| `SkewCalculator` | class | `class SkewCalculator` |
| `SkewCalculator.skew_metric` | method | `def SkewCalculator.skew_metric(self, iv_put, iv_call, iv_atm)` |
| `SkewCalculator.is_steep_skew` | method | `def SkewCalculator.is_steep_skew(self, skew, threshold)` |

## `core\.ipynb_checkpoints\main-checkpoint.py`

| Symbol | Kind | Signature |
|---|---|---|
| `parse_args` | function | `def parse_args()` |
| `main` | function | `def main()` |

## `core\backtest_engine.py`

| Symbol | Kind | Signature |
|---|---|---|
| `compute_realized_vol` | function | `def compute_realized_vol(prices, window)` |
| `compute_iv_rank_proxy` | function | `def compute_iv_rank_proxy(current_vol, vol_history, lookback)` |
| `load_intraday_options` | function | `def load_intraday_options(file_path, start_date, end_date)` |
| `run_backtest_headless` | function | `def run_backtest_headless(s_cfg, r_cfg, preloaded_df, preloaded_options, preloaded_sync, preloaded_neural_forecasts, verbose)` |
| `run_backtest_and_report` | function | `def run_backtest_and_report(s_cfg, r_cfg)` |

## `core\benchmark_cpu.py`

| Symbol | Kind | Signature |
|---|---|---|
| `benchmark` | function | `def benchmark(save_json, test_bars)` |

## `core\broker.py`

| Symbol | Kind | Signature |
|---|---|---|
| `BrokerAPI` | class | `class BrokerAPI` |
| `BrokerAPI.get_spot` | method | `def BrokerAPI.get_spot(self, symbol)` |
| `BrokerAPI.get_iv_rank` | method | `def BrokerAPI.get_iv_rank(self, symbol, lookback_days)` |
| `BrokerAPI.get_vix` | method | `def BrokerAPI.get_vix(self)` |
| `BrokerAPI.get_option_chain` | method | `def BrokerAPI.get_option_chain(self, symbol, expiration)` |
| `BrokerAPI.get_expirations` | method | `def BrokerAPI.get_expirations(self, symbol)` |
| `BrokerAPI.place_iron_condor` | method | `def BrokerAPI.place_iron_condor(self, legs, quantity, limit_price)` |
| `BrokerAPI.get_open_positions` | method | `def BrokerAPI.get_open_positions(self, symbol)` |
| `BrokerAPI.close_position` | method | `def BrokerAPI.close_position(self, position_id, limit_price)` |
| `BrokerAPI.roll_vertical` | method | `def BrokerAPI.roll_vertical(self, position_id, side, new_short, new_long, limit_price)` |
| `BrokerAPI.get_account_metrics` | method | `def BrokerAPI.get_account_metrics(self)` |
| `BrokerAPI.trade_shares` | method | `def BrokerAPI.trade_shares(self, symbol, quantity, side, limit_price)` |
| `TradeEvent` | class | `class TradeEvent` |
| `PaperBroker` | class | `class PaperBroker` |
| `PaperBroker.__init__` | method | `def PaperBroker.__init__(self, polygon_client, starting_equity)` |
| `PaperBroker.get_spot` | method | `def PaperBroker.get_spot(self, symbol)` |
| `PaperBroker.get_iv_rank` | method | `def PaperBroker.get_iv_rank(self, symbol, lookback_days)` |
| `PaperBroker.get_vix` | method | `def PaperBroker.get_vix(self)` |
| `PaperBroker.get_option_chain` | method | `def PaperBroker.get_option_chain(self, symbol, expiration)` |
| `PaperBroker.get_expirations` | method | `def PaperBroker.get_expirations(self, symbol)` |
| `PaperBroker.place_iron_condor` | method | `def PaperBroker.place_iron_condor(self, legs, quantity, limit_price)` |
| `PaperBroker.get_open_positions` | method | `def PaperBroker.get_open_positions(self, symbol)` |
| `PaperBroker.close_position` | method | `def PaperBroker.close_position(self, position_id, limit_price)` |
| `PaperBroker.roll_vertical` | method | `def PaperBroker.roll_vertical(self, position_id, side, new_short, new_long, limit_price)` |
| `PaperBroker.get_account_metrics` | method | `def PaperBroker.get_account_metrics(self)` |
| `PaperBroker.trade_shares` | method | `def PaperBroker.trade_shares(self, symbol, quantity, side, limit_price)` |
| `PaperBroker.collect_trade_log` | method | `def PaperBroker.collect_trade_log(self)` |
| `AlpacaBroker` | class | `class AlpacaBroker` |
| `AlpacaBroker.__init__` | method | `def AlpacaBroker.__init__(self, run_cfg, polygon_client)` |
| `AlpacaBroker.get_spot` | method | `def AlpacaBroker.get_spot(self, symbol)` |
| `AlpacaBroker.get_iv_rank` | method | `def AlpacaBroker.get_iv_rank(self, symbol, lookback_days)` |
| `AlpacaBroker.get_vix` | method | `def AlpacaBroker.get_vix(self)` |
| `AlpacaBroker.get_option_chain` | method | `def AlpacaBroker.get_option_chain(self, symbol, expiration)` |
| `AlpacaBroker.get_expirations` | method | `def AlpacaBroker.get_expirations(self, symbol)` |
| `AlpacaBroker.place_iron_condor` | method | `def AlpacaBroker.place_iron_condor(self, legs, quantity, limit_price)` |
| `AlpacaBroker.get_open_positions` | method | `def AlpacaBroker.get_open_positions(self, symbol)` |
| `AlpacaBroker.get_account_metrics` | method | `def AlpacaBroker.get_account_metrics(self)` |
| `AlpacaBroker.trade_shares` | method | `def AlpacaBroker.trade_shares(self, symbol, quantity, side, limit_price)` |

## `core\config.py`

| Symbol | Kind | Signature |
|---|---|---|
| `StrategyConfig` | class | `class StrategyConfig` |
| `RunConfig` | class | `class RunConfig` |
| `RunConfig.__post_init__` | method | `def RunConfig.__post_init__(self)` |

## `core\config.template.py`

| Symbol | Kind | Signature |
|---|---|---|
| `StrategyConfig` | class | `class StrategyConfig` |
| `RunConfig` | class | `class RunConfig` |
| `RunConfig.__post_init__` | method | `def RunConfig.__post_init__(self)` |

## `core\data_validator.py`

| Symbol | Kind | Signature |
|---|---|---|
| `get_csv_date_range` | function | `def get_csv_date_range(csv_path, date_col_index)` |
| `validate_data_coverage` | function | `def validate_data_coverage(csv_path, req_start, req_end, symbol)` |

## `core\dto.py`

| Symbol | Kind | Signature |
|---|---|---|
| `MarketSnapshot` | class | `class MarketSnapshot` |
| `TradeDecision` | class | `class TradeDecision` |
| `SizedDecision` | class | `class SizedDecision` |
| `Approval` | class | `class Approval` |
| `OrderPlan` | class | `class OrderPlan` |
| `OptionQuote` | class | `class OptionQuote` |
| `IronCondorLegs` | class | `class IronCondorLegs` |

## `core\liquidity_gate.py`

| Symbol | Kind | Signature |
|---|---|---|
| `liquidity_ok` | function | `def liquidity_ok(short_leg, long_leg, credit, width, mode, config)` |

## `core\main.py`

| Symbol | Kind | Signature |
|---|---|---|
| `parse_args` | function | `def parse_args()` |
| `validate_config` | function | `def validate_config(s_cfg, r_cfg)` |
| `main` | function | `def main()` |

## `core\optimizer.py`

| Symbol | Kind | Signature |
|---|---|---|
| `run_optimization` | function | `def run_optimization(base_s_cfg, run_cfg, auto_confirm)` |
| `apply_params_to_file` | function | `def apply_params_to_file(params, config_path)` |
| `apply_best_params` | function | `def apply_best_params(params)` |

## `core\risk_manager.py`

| Symbol | Kind | Signature |
|---|---|---|
| `PortfolioGreeks` | class | `class PortfolioGreeks` |
| `PortfolioGreeks.__add__` | method | `def PortfolioGreeks.__add__(self, other)` |
| `RiskManager` | class | `class RiskManager` |
| `RiskManager.__init__` | method | `def RiskManager.__init__(self, config)` |
| `RiskManager.set_daily_start_equity` | method | `def RiskManager.set_daily_start_equity(self, equity)` |
| `RiskManager.update_portfolio_greeks` | method | `def RiskManager.update_portfolio_greeks(self, positions)` |
| `RiskManager.calculate_trade_greeks` | method | `def RiskManager.calculate_trade_greeks(self, legs, quantity)` |
| `RiskManager.check_drawdown_stop` | method | `def RiskManager.check_drawdown_stop(self, current_equity, today)` |
| `RiskManager.check_new_trade` | method | `def RiskManager.check_new_trade(self, legs, quantity, current_equity, existing_greeks)` |
| `RiskManager.validate_structure` | method | `def RiskManager.validate_structure(self, legs)` |
| `RiskManager.check_pot_risk` | method | `def RiskManager.check_pot_risk(self, spot, legs, iv, dte, threshold)` |
| `RiskManager.get_portfolio_cvar` | method | `def RiskManager.get_portfolio_cvar(self, portfolio_value, benchmark_returns, beta)` |
| `RiskManager.get_beta_weighted_delta` | method | `def RiskManager.get_beta_weighted_delta(self, delta, asset_returns)` |

## `data_factory\alpaca_data_client.py`

| Symbol | Kind | Signature |
|---|---|---|
| `AlpacaOptionQuote` | class | `class AlpacaOptionQuote` |
| `AlpacaOptionQuote.mark` | method | `def AlpacaOptionQuote.mark(self)` |
| `AlpacaDataClient` | class | `class AlpacaDataClient` |
| `AlpacaDataClient.__init__` | method | `def AlpacaDataClient.__init__(self, api_key, api_secret)` |
| `AlpacaDataClient.get_spot` | method | `def AlpacaDataClient.get_spot(self, symbol)` |
| `AlpacaDataClient.get_vix` | method | `def AlpacaDataClient.get_vix(self)` |
| `AlpacaDataClient.get_iv_rank` | method | `def AlpacaDataClient.get_iv_rank(self, symbol, lookback_days)` |
| `AlpacaDataClient.get_expirations` | method | `def AlpacaDataClient.get_expirations(self, symbol)` |
| `AlpacaDataClient.get_option_chain` | method | `def AlpacaDataClient.get_option_chain(self, symbol, expiration)` |
| `AlpacaDataClient._get_raw_option_chain` | method | `def AlpacaDataClient._get_raw_option_chain(self, symbol)` |

## `data_factory\aux_feeds.py`

| Symbol | Kind | Signature |
|---|---|---|
| `AuxFeedsProvider` | class | `class AuxFeedsProvider` |
| `AuxFeedsProvider.seed_from_bars` | method | `def AuxFeedsProvider.seed_from_bars(self, bars_window)` |
| `AuxFeedsProvider.get` | method | `def AuxFeedsProvider.get(self, ts, symbol)` |

## `data_factory\data_engine.py`

| Symbol | Kind | Signature |
|---|---|---|
| `DataEngine` | class | `class DataEngine` |
| `DataEngine.__post_init__` | method | `def DataEngine.__post_init__(self)` |
| `DataEngine._auto_pick_overlap_day` | method | `def DataEngine._auto_pick_overlap_day(self)` |
| `DataEngine._emit_alignment_summary` | method | `def DataEngine._emit_alignment_summary(self)` |
| `DataEngine.stream` | method | `def DataEngine.stream(self)` |

## `data_factory\downloaders\AlpacaGetData.py`

| Symbol | Kind | Signature |
|---|---|---|
| `main` | function | `def main()` |
| `_expected_freq_seconds` | function | `def _expected_freq_seconds(label)` |
| `clean_equity_bars_session_only` | function | `def clean_equity_bars_session_only(file_path, symbol_name, tf_label)` |

## `data_factory\downloaders\PolyOptionsData.py`

| Symbol | Kind | Signature |
|---|---|---|
| `load_config` | function | `def load_config()` |
| `get_available_instruments` | function | `def get_available_instruments()` |
| `prompt_instrument` | function | `def prompt_instrument()` |
| `prompt_dataset_mode` | function | `def prompt_dataset_mode()` |
| `prompt_timeframes` | function | `def prompt_timeframes()` |
| `prompt_date_range` | function | `def prompt_date_range()` |
| `get_option_chain_snapshot` | function | `def get_option_chain_snapshot(api_key, underlying, date)` |
| `fetch_options_data` | function | `def fetch_options_data(api_key, underlying, start_date, end_date)` |
| `clean_options_data` | function | `def clean_options_data(df)` |
| `round_decimals` | function | `def round_decimals(df, decimals)` |
| `aggregate_to_timeframe` | function | `def aggregate_to_timeframe(df, timeframe_minutes)` |
| `validate_data_integrity` | function | `def validate_data_integrity(df, timeframe_name)` |
| `save_timeframe_data` | function | `def save_timeframe_data(df, underlying, timeframe_name, mode)` |
| `main` | function | `def main()` |

## `data_factory\downloaders\download_alpaca_intraday_options.py`

| Symbol | Kind | Signature |
|---|---|---|
| `parse_occ_symbol` | function | `def parse_occ_symbol(sym)` |
| `download_intraday_bars` | function | `def download_intraday_bars(client, symbols, start_date, end_date, output_file)` |
| `filter_options_by_dte` | function | `def filter_options_by_dte(symbols, min_dte, max_dte)` |
| `main` | function | `def main()` |

## `data_factory\downloaders\download_alpaca_matched.py`

| Symbol | Kind | Signature |
|---|---|---|
| `load_ivol_targets` | function | `def load_ivol_targets(ivol_file, min_date)` |
| `parse_occ_symbol` | function | `def parse_occ_symbol(sym)` |
| `download_bars_for_day` | function | `def download_bars_for_day(client, date, symbols, output_file)` |
| `main` | function | `def main()` |

## `data_factory\downloaders\download_alpaca_options.py`

| Symbol | Kind | Signature |
|---|---|---|
| `download_option_bars` | function | `def download_option_bars(client, symbols, start_date, end_date)` |
| `main` | function | `def main()` |

## `data_factory\downloaders\download_ivolatility_options.py`

| Symbol | Kind | Signature |
|---|---|---|
| `setup_ivol` | function | `def setup_ivol()` |
| `get_trading_dates` | function | `def get_trading_dates(start_date, end_date)` |
| `fetch_options_chain_for_date` | function | `def fetch_options_chain_for_date(symbol, trade_date, max_retries)` |
| `fetch_option_with_retry` | function | `def fetch_option_with_retry(option_id, trade_date, max_retries)` |
| `download_spy_options_year` | function | `def download_spy_options_year()` |

## `data_factory\fix_alpaca_download_and_nyse_clean.py`

| Symbol | Kind | Signature |
|---|---|---|
| `_parse_iso_dt` | function | `def _parse_iso_dt(s)` |
| `parse_gaps_report` | function | `def parse_gaps_report(path)` |
| `get_client` | function | `def get_client()` |
| `fetch_day_bars` | function | `def fetch_day_bars(client, symbol, day, timeframe)` |
| `session_grid_fill` | function | `def session_grid_fill(df, symbol, tf_seconds)` |
| `main` | function | `def main()` |

## `data_factory\option_chain.py`

| Symbol | Kind | Signature |
|---|---|---|
| `ChainAlignment` | class | `class ChainAlignment` |
| `OptionChainProvider` | class | `class OptionChainProvider` |
| `OptionChainProvider._load` | method | `def OptionChainProvider._load(self)` |
| `OptionChainProvider._symbol_max_lag` | method | `def OptionChainProvider._symbol_max_lag(self, symbol)` |
| `OptionChainProvider._decay_iv_conf` | method | `def OptionChainProvider._decay_iv_conf(self, lag_sec)` |
| `OptionChainProvider.get_chain` | method | `def OptionChainProvider.get_chain(self, ts, symbol)` |
| `OptionChainProvider.get_chain_with_meta` | method | `def OptionChainProvider.get_chain_with_meta(self, ts, symbol, policy, max_lag_sec)` |

## `data_factory\pipeline\SyntheticOptionsEngine.py`

| Symbol | Kind | Signature |
|---|---|---|
| `_norm_cdf` | function | `def _norm_cdf(x)` |
| `_norm_pdf` | function | `def _norm_pdf(x)` |
| `_bs_d1` | function | `def _bs_d1(S, K, T, r, sigma)` |
| `_bs_d2` | function | `def _bs_d2(d1, T, sigma)` |
| `_bs_price` | function | `def _bs_price(S, K, T, r, sigma, right)` |
| `_bs_delta` | function | `def _bs_delta(S, K, T, r, sigma, right)` |
| `_bs_gamma` | function | `def _bs_gamma(S, K, T, r, sigma)` |
| `_bs_vega` | function | `def _bs_vega(S, K, T, r, sigma)` |
| `_bs_theta_per_day` | function | `def _bs_theta_per_day(S, K, T, r, sigma, right)` |
| `_format_option_symbol` | function | `def _format_option_symbol(symbol, expiration, right, strike)` |
| `SyntheticParams` | class | `class SyntheticParams` |
| `SyntheticOptionsEngine` | class | `class SyntheticOptionsEngine` |
| `SyntheticOptionsEngine.__init__` | method | `def SyntheticOptionsEngine.__init__(self, params, seed)` |
| `SyntheticOptionsEngine.build_underlying_cache` | method | `def SyntheticOptionsEngine.build_underlying_cache(self, symbol, tf, start, end, save_csv)` |
| `SyntheticOptionsEngine.load_underlying_cache` | method | `def SyntheticOptionsEngine.load_underlying_cache(self, symbol)` |
| `SyntheticOptionsEngine._last_six_month_window` | method | `def SyntheticOptionsEngine._last_six_month_window(self, symbol)` |
| `SyntheticOptionsEngine.get_marks_full` | method | `def SyntheticOptionsEngine.get_marks_full(self, timestamp, symbol, underlying_price, expirations, strikes_by_right)` |
| `SyntheticOptionsEngine.dump_marks_to_csv` | method | `def SyntheticOptionsEngine.dump_marks_to_csv(self, symbol, start, end, every_n_minutes, moneyness_band, strike_step, expiries_weeks, out_path, max_rows)` |
| `SyntheticOptionsEngine._compute_iv` | method | `def SyntheticOptionsEngine._compute_iv(self, S, K, T, right)` |
| `SyntheticOptionsEngine._stable_rng` | method | `def SyntheticOptionsEngine._stable_rng(self, *parts)` |
| `SyntheticOptionsEngine._synthetic_sizes` | method | `def SyntheticOptionsEngine._synthetic_sizes(self, trade_date, exp_date, right, strike)` |
| `SyntheticOptionsEngine._synthetic_open_interest` | method | `def SyntheticOptionsEngine._synthetic_open_interest(self, exp_date, right, strike, dte_days)` |
| `SyntheticOptionsEngine._synthetic_volume` | method | `def SyntheticOptionsEngine._synthetic_volume(self, trade_date, exp_date, right, strike, mid, dte_days)` |
| `SyntheticOptionsEngine._jitter_last` | method | `def SyntheticOptionsEngine._jitter_last(self, mid, trade_date, exp_date, right, strike)` |
| `SyntheticOptionsEngine._weekly_expirations` | method | `def SyntheticOptionsEngine._weekly_expirations(self, current_date, weeks)` |
| `_usage` | function | `def _usage()` |

## `data_factory\pipeline\complete_2025_dataset.py`

| Symbol | Kind | Signature |
|---|---|---|
| `bs_d1_vec` | function | `def bs_d1_vec(S, K, T, r, sigma)` |
| `bs_d2_vec` | function | `def bs_d2_vec(S, K, T, r, sigma)` |
| `bs_call_price_vec` | function | `def bs_call_price_vec(S, K, T, r, sigma)` |
| `bs_put_price_vec` | function | `def bs_put_price_vec(S, K, T, r, sigma)` |
| `bs_delta_vec` | function | `def bs_delta_vec(S, K, T, r, sigma, is_call)` |
| `bs_gamma_vec` | function | `def bs_gamma_vec(S, K, T, r, sigma)` |
| `bs_vega_vec` | function | `def bs_vega_vec(S, K, T, r, sigma)` |
| `bs_theta_vec` | function | `def bs_theta_vec(S, K, T, r, sigma, is_call)` |
| `bs_rho_vec` | function | `def bs_rho_vec(S, K, T, r, sigma, is_call)` |
| `download_spy_ohlcv_2025` | function | `def download_spy_ohlcv_2025()` |
| `load_or_download_spy_ohlcv` | function | `def load_or_download_spy_ohlcv()` |
| `generate_options_batch` | function | `def generate_options_batch(timestamps, spots, ohlcv_data_dict, avg_iv)` |
| `complete_2025_dataset` | function | `def complete_2025_dataset(dry_run)` |
| `main` | function | `def main()` |

## `data_factory\pipeline\compute_historical_greeks.py`

| Symbol | Kind | Signature |
|---|---|---|
| `bs_d1` | function | `def bs_d1(S, K, T, r, sigma)` |
| `bs_d2` | function | `def bs_d2(S, K, T, r, sigma)` |
| `bs_call_price` | function | `def bs_call_price(S, K, T, r, sigma)` |
| `bs_put_price` | function | `def bs_put_price(S, K, T, r, sigma)` |
| `implied_volatility` | function | `def implied_volatility(price, S, K, T, r, is_call, max_iter)` |
| `bs_delta` | function | `def bs_delta(S, K, T, r, sigma, is_call)` |
| `bs_gamma` | function | `def bs_gamma(S, K, T, r, sigma)` |
| `bs_vega` | function | `def bs_vega(S, K, T, r, sigma)` |
| `bs_theta` | function | `def bs_theta(S, K, T, r, sigma, is_call)` |
| `bs_rho` | function | `def bs_rho(S, K, T, r, sigma, is_call)` |
| `load_spy_spot_prices` | function | `def load_spy_spot_prices(bars_df)` |
| `download_spy_spot_history` | function | `def download_spy_spot_history(start_date, end_date)` |
| `estimate_spot_from_options` | function | `def estimate_spot_from_options(bars_df)` |
| `compute_greeks_for_bars` | function | `def compute_greeks_for_bars(bars_df, spot_df, risk_free_rate)` |
| `main` | function | `def main()` |

## `data_factory\pipeline\expand_options_intraday.py`

| Symbol | Kind | Signature |
|---|---|---|
| `bs_d1` | function | `def bs_d1(S, K, T, r, sigma)` |
| `bs_d2` | function | `def bs_d2(S, K, T, r, sigma)` |
| `bs_call_price` | function | `def bs_call_price(S, K, T, r, sigma)` |
| `bs_put_price` | function | `def bs_put_price(S, K, T, r, sigma)` |
| `bs_delta` | function | `def bs_delta(S, K, T, r, sigma, is_call)` |
| `bs_gamma` | function | `def bs_gamma(S, K, T, r, sigma)` |
| `bs_vega` | function | `def bs_vega(S, K, T, r, sigma)` |
| `bs_theta` | function | `def bs_theta(S, K, T, r, sigma, is_call)` |
| `fetch_intraday_bars` | function | `def fetch_intraday_bars(api_key, api_secret, symbol, start_date, end_date, timeframe)` |
| `expand_options_to_intraday` | function | `def expand_options_to_intraday(options_df, spot_df, risk_free_rate)` |
| `main` | function | `def main()` |

## `data_factory\pipeline\expand_options_turbo.py`

| Symbol | Kind | Signature |
|---|---|---|
| `bs_delta_vec` | function | `def bs_delta_vec(S, K, T, r, sigma, is_call)` |
| `bs_price_vec` | function | `def bs_price_vec(S, K, T, r, sigma, is_call)` |
| `bs_gamma_vec` | function | `def bs_gamma_vec(S, K, T, r, sigma)` |
| `expand_turbo` | function | `def expand_turbo(options_path, spot_path, output_path, risk_free_rate)` |
| `main` | function | `def main()` |

## `data_factory\pipeline\finalize_and_verify.py`

| Symbol | Kind | Signature |
|---|---|---|
| `verify_dataset` | function | `def verify_dataset(filepath)` |

## `data_factory\pipeline\merge_intraday_with_greeks.py`

| Symbol | Kind | Signature |
|---|---|---|
| `load_ivolatility_greeks` | function | `def load_ivolatility_greeks(file_path)` |
| `load_alpaca_intraday` | function | `def load_alpaca_intraday(file_path)` |
| `create_matching_key` | function | `def create_matching_key(row)` |
| `interpolate_greeks` | function | `def interpolate_greeks(df)` |
| `merge_intraday_with_greeks` | function | `def merge_intraday_with_greeks(intraday_df, greeks_df)` |
| `main` | function | `def main()` |

## `data_factory\pipeline\process_ivol_to_marks.py`

| Symbol | Kind | Signature |
|---|---|---|
| `process_ivol_data` | function | `def process_ivol_data()` |

## `data_factory\pipeline\repair_options_datasets.py`

| Symbol | Kind | Signature |
|---|---|---|
| `bs_d1` | function | `def bs_d1(S, K, T, r, sigma)` |
| `bs_d2` | function | `def bs_d2(S, K, T, r, sigma)` |
| `bs_call_price` | function | `def bs_call_price(S, K, T, r, sigma)` |
| `bs_put_price` | function | `def bs_put_price(S, K, T, r, sigma)` |
| `bs_delta` | function | `def bs_delta(S, K, T, r, sigma, is_call)` |
| `bs_gamma` | function | `def bs_gamma(S, K, T, r, sigma)` |
| `bs_vega` | function | `def bs_vega(S, K, T, r, sigma)` |
| `bs_theta` | function | `def bs_theta(S, K, T, r, sigma, is_call)` |
| `bs_rho` | function | `def bs_rho(S, K, T, r, sigma, is_call)` |
| `implied_volatility` | function | `def implied_volatility(price, S, K, T, r, is_call, max_iter)` |
| `generate_option_symbol` | function | `def generate_option_symbol(underlying, expiration, strike, is_call)` |
| `select_strikes_atm` | function | `def select_strikes_atm(spot_price, num_strikes, strike_width)` |
| `interpolate_option` | function | `def interpolate_option(timestamp, ohlcv, strike, is_call, expiration, avg_iv, underlying_symbol)` |
| `repair_timestamp_group` | function | `def repair_timestamp_group(group, timestamp, target_puts, target_calls)` |
| `repair_dataset` | function | `def repair_dataset(filepath, output_path, dry_run, chunk_size)` |
| `main` | function | `def main()` |

## `data_factory\pipeline\repair_options_fast.py`

| Symbol | Kind | Signature |
|---|---|---|
| `bs_d1_vec` | function | `def bs_d1_vec(S, K, T, r, sigma)` |
| `bs_d2_vec` | function | `def bs_d2_vec(S, K, T, r, sigma)` |
| `bs_call_price_vec` | function | `def bs_call_price_vec(S, K, T, r, sigma)` |
| `bs_put_price_vec` | function | `def bs_put_price_vec(S, K, T, r, sigma)` |
| `bs_delta_vec` | function | `def bs_delta_vec(S, K, T, r, sigma, is_call)` |
| `bs_gamma_vec` | function | `def bs_gamma_vec(S, K, T, r, sigma)` |
| `bs_vega_vec` | function | `def bs_vega_vec(S, K, T, r, sigma)` |
| `bs_theta_vec` | function | `def bs_theta_vec(S, K, T, r, sigma, is_call)` |
| `bs_rho_vec` | function | `def bs_rho_vec(S, K, T, r, sigma, is_call)` |
| `generate_synthetic_options_batch` | function | `def generate_synthetic_options_batch(timestamps, spots, strikes, is_calls, expirations, ivs, ohlcv_data)` |
| `select_strikes_atm` | function | `def select_strikes_atm(spot_price, num_strikes, strike_width)` |
| `repair_timestamp_group_fast` | function | `def repair_timestamp_group_fast(group, timestamp, target_puts, target_calls)` |
| `repair_dataset_fast` | function | `def repair_dataset_fast(filepath, output_path, dry_run, chunk_size)` |
| `main` | function | `def main()` |

## `data_factory\pipeline\resample_intraday.py`

| Symbol | Kind | Signature |
|---|---|---|
| `resample_m1_df` | function | `def resample_m1_df(df, timeframe)` |
| `main` | function | `def main()` |

## `data_factory\pipeline\validate_options_datasets.py`

| Symbol | Kind | Signature |
|---|---|---|
| `load_dataset_chunked` | function | `def load_dataset_chunked(filepath, chunk_size)` |
| `analyze_dataset` | function | `def analyze_dataset(filepath, sample_mode)` |
| `print_report` | function | `def print_report(results)` |
| `compare_datasets` | function | `def compare_datasets(results_2024, results_2025)` |
| `save_report` | function | `def save_report(results, output_path)` |
| `main` | function | `def main()` |

## `data_factory\pipeline\verify_parity.py`

| Symbol | Kind | Signature |
|---|---|---|
| `verify_file` | function | `def verify_file(filepath)` |

## `data_factory\polygon_client.py`

| Symbol | Kind | Signature |
|---|---|---|
| `PolyOption` | class | `class PolyOption` |
| `PolygonClient` | class | `class PolygonClient` |
| `PolygonClient.__init__` | method | `def PolygonClient.__init__(self, api_key)` |
| `PolygonClient.get_spot` | method | `def PolygonClient.get_spot(self, symbol)` |
| `PolygonClient.get_vix` | method | `def PolygonClient.get_vix(self)` |
| `PolygonClient.get_iv_rank` | method | `def PolygonClient.get_iv_rank(self, symbol, lookback_days)` |
| `PolygonClient.get_expirations` | method | `def PolygonClient.get_expirations(self, symbol)` |
| `PolygonClient.get_option_chain` | method | `def PolygonClient.get_option_chain(self, symbol, expiration)` |
| `poly_to_quote` | function | `def poly_to_quote(p)` |
| `convert_chain` | function | `def convert_chain(chain)` |

## `data_factory\spot_bars.py`

| Symbol | Kind | Signature |
|---|---|---|
| `_detect_col` | function | `def _detect_col(df, candidates)` |
| `SpotBarsProvider` | class | `class SpotBarsProvider` |
| `SpotBarsProvider._spot_path` | method | `def SpotBarsProvider._spot_path(self)` |
| `SpotBarsProvider._load_csv` | method | `def SpotBarsProvider._load_csv(self)` |
| `SpotBarsProvider.stream` | method | `def SpotBarsProvider.stream(self)` |

## `data_factory\sync_engine.py`

| Symbol | Kind | Signature |
|---|---|---|
| `MTFSyncEngine` | class | `class MTFSyncEngine` |
| `MTFSyncEngine.__init__` | method | `def MTFSyncEngine.__init__(self, symbol, timeframes)` |
| `MTFSyncEngine._calculate_indicators` | method | `def MTFSyncEngine._calculate_indicators(self, df, timeframe)` |
| `MTFSyncEngine._load_all` | method | `def MTFSyncEngine._load_all(self)` |
| `MTFSyncEngine.get_snapshot` | method | `def MTFSyncEngine.get_snapshot(self, current_time)` |

## `execution\alpaca_executor.py`

| Symbol | Kind | Signature |
|---|---|---|
| `AlpacaExecutor` | class | `class AlpacaExecutor` |
| `AlpacaExecutor.__init__` | method | `def AlpacaExecutor.__init__(self, api_key, secret_key, paper)` |
| `AlpacaExecutor.get_market_status` | method | `def AlpacaExecutor.get_market_status(self)` |
| `AlpacaExecutor.submit_iron_condor` | method | `def AlpacaExecutor.submit_iron_condor(self, symbol, legs, quantity)` |
| `AlpacaExecutor.get_positions` | method | `def AlpacaExecutor.get_positions(self)` |
| `AlpacaExecutor.close_all` | method | `def AlpacaExecutor.close_all(self)` |

## `execution\paper_executor.py`

| Symbol | Kind | Signature |
|---|---|---|
| `PaperTrade` | class | `class PaperTrade` |
| `PaperExecutor` | class | `class PaperExecutor` |
| `PaperExecutor.__init__` | method | `def PaperExecutor.__init__(self, run_config)` |
| `PaperExecutor.open_trade` | method | `def PaperExecutor.open_trade(self, trade_decision)` |
| `PaperExecutor.close_trade` | method | `def PaperExecutor.close_trade(self, trade, exit_price)` |

## `generate_antigrav_instructions.py`

| Symbol | Kind | Signature |
|---|---|---|
| `add_title` | function | `def add_title(doc, text)` |
| `add_heading` | function | `def add_heading(doc, text, level)` |
| `add_paragraph` | function | `def add_paragraph(doc, text, bold, italic)` |
| `add_bullet` | function | `def add_bullet(doc, text, level)` |
| `add_code_block` | function | `def add_code_block(doc, code_text)` |
| `add_warning_box` | function | `def add_warning_box(doc, text)` |
| `create_antigrav_instructions` | function | `def create_antigrav_instructions()` |
| `main` | function | `def main()` |

## `generate_antigrav_instructions_updated.py`

| Symbol | Kind | Signature |
|---|---|---|
| `add_title` | function | `def add_title(doc, text)` |
| `add_heading` | function | `def add_heading(doc, text, level)` |
| `add_paragraph` | function | `def add_paragraph(doc, text, bold, italic)` |
| `add_bullet` | function | `def add_bullet(doc, text, level)` |
| `add_code_block` | function | `def add_code_block(doc, code_text)` |
| `add_warning_box` | function | `def add_warning_box(doc, text)` |
| `add_highlight_box` | function | `def add_highlight_box(doc, text)` |
| `create_antigrav_instructions` | function | `def create_antigrav_instructions()` |
| `main` | function | `def main()` |

## `generate_final_antigrav_instructions.py`

| Symbol | Kind | Signature |
|---|---|---|
| `add_title` | function | `def add_title(doc, text)` |
| `add_heading` | function | `def add_heading(doc, text, level)` |
| `add_paragraph` | function | `def add_paragraph(doc, text, bold, italic)` |
| `add_bullet` | function | `def add_bullet(doc, text)` |
| `add_code_block` | function | `def add_code_block(doc, code_text)` |
| `add_warning_box` | function | `def add_warning_box(doc, text)` |
| `add_highlight_box` | function | `def add_highlight_box(doc, text)` |
| `add_success_box` | function | `def add_success_box(doc, text)` |
| `create_antigrav_instructions` | function | `def create_antigrav_instructions()` |
| `main` | function | `def main()` |

## `generate_major_updates.py`

| Symbol | Kind | Signature |
|---|---|---|
| `add_title` | function | `def add_title(doc, title_text)` |
| `add_section_heading` | function | `def add_section_heading(doc, heading_text, level)` |
| `add_paragraph` | function | `def add_paragraph(doc, text)` |
| `add_math_formula` | function | `def add_math_formula(doc, formula_text)` |
| `add_changelog_section` | function | `def add_changelog_section(doc, version, changes)` |
| `create_rule_c2_updated` | function | `def create_rule_c2_updated()` |
| `create_rule_d2_updated` | function | `def create_rule_d2_updated()` |
| `create_rule_e2_updated` | function | `def create_rule_e2_updated()` |
| `create_rule_e3_updated` | function | `def create_rule_e3_updated()` |
| `main` | function | `def main()` |

## `generate_remaining_rules.py`

| Symbol | Kind | Signature |
|---|---|---|
| `add_title` | function | `def add_title(doc, title_text)` |
| `add_section_heading` | function | `def add_section_heading(doc, heading_text, level)` |
| `add_paragraph` | function | `def add_paragraph(doc, text)` |
| `add_math_formula` | function | `def add_math_formula(doc, formula_text)` |
| `create_rule_b1` | function | `def create_rule_b1()` |
| `create_rule_b2` | function | `def create_rule_b2()` |
| `create_rule_e1` | function | `def create_rule_e1()` |
| `create_simple_rule` | function | `def create_simple_rule(rule_id, title, summary, strategy_type, key_formulas, logic_conditions, integration_notes)` |
| `main` | function | `def main()` |

## `generate_rule_docs.py`

| Symbol | Kind | Signature |
|---|---|---|
| `add_title` | function | `def add_title(doc, title_text)` |
| `add_section_heading` | function | `def add_section_heading(doc, heading_text, level)` |
| `add_paragraph` | function | `def add_paragraph(doc, text, bold, italic)` |
| `add_math_formula` | function | `def add_math_formula(doc, formula_text)` |
| `create_rule_a1` | function | `def create_rule_a1()` |
| `create_rule_a2` | function | `def create_rule_a2()` |
| `create_rule_a3` | function | `def create_rule_a3()` |
| `main` | function | `def main()` |

## `generate_updated_rules.py`

| Symbol | Kind | Signature |
|---|---|---|
| `add_title` | function | `def add_title(doc, title_text)` |
| `add_section_heading` | function | `def add_section_heading(doc, heading_text, level)` |
| `add_paragraph` | function | `def add_paragraph(doc, text)` |
| `add_math_formula` | function | `def add_math_formula(doc, formula_text)` |
| `add_changelog_section` | function | `def add_changelog_section(doc, version, changes)` |
| `create_rule_a2_updated` | function | `def create_rule_a2_updated()` |
| `create_rule_b1_updated` | function | `def create_rule_b1_updated()` |
| `create_rule_c1_updated` | function | `def create_rule_c1_updated()` |
| `main` | function | `def main()` |

## `intelligence\canonical_feature_registry.py`

| Symbol | Kind | Signature |
|---|---|---|
| `get_neutral_fill_value` | function | `def get_neutral_fill_value(feature_name)` |
| `apply_semantic_nan_fill` | function | `def apply_semantic_nan_fill(X, feature_cols)` |
| `validate_feature_cols` | function | `def validate_feature_cols(cols)` |
| `get_missing_features` | function | `def get_missing_features(df_cols)` |
| `assert_schema_match` | function | `def assert_schema_match(df_cols, strict)` |
| `get_neutral_fill_value_v22` | function | `def get_neutral_fill_value_v22(feature_name)` |

## `intelligence\condor_brain.py`

| Symbol | Kind | Signature |
|---|---|---|
| `RMSNorm` | class | `class RMSNorm` |
| `RMSNorm.__init__` | method | `def RMSNorm.__init__(self, dim, eps)` |
| `RMSNorm.forward` | method | `def RMSNorm.forward(self, x)` |
| `CondorSignal` | class | `class CondorSignal` |
| `CondorSignal.is_valid_trade` | method | `def CondorSignal.is_valid_trade(self, min_confidence, min_pop)` |
| `CondorSignal.strikes_are_safe` | method | `def CondorSignal.strikes_are_safe(self, spot_price)` |
| `CondorSignal.to_dict` | method | `def CondorSignal.to_dict(self)` |
| `RegimeDetector` | class | `class RegimeDetector` |
| `RegimeDetector.__init__` | method | `def RegimeDetector.__init__(self, d_model)` |
| `RegimeDetector.forward` | method | `def RegimeDetector.forward(self, x)` |
| `HorizonForecaster` | class | `class HorizonForecaster` |
| `HorizonForecaster.__init__` | method | `def HorizonForecaster.__init__(self, d_model, max_horizon, bars_per_day)` |
| `HorizonForecaster.forward` | method | `def HorizonForecaster.forward(self, hidden, num_days)` |
| `CondorExpertHead` | class | `class CondorExpertHead` |
| `CondorExpertHead.__init__` | method | `def CondorExpertHead.__init__(self, d_model)` |
| `CondorExpertHead.forward` | method | `def CondorExpertHead.forward(self, x)` |
| `CondorBrain` | class | `class CondorBrain` |
| `CondorBrain.__init__` | method | `def CondorBrain.__init__(self, d_model, n_layers, d_state, d_conv, expand, input_dim, use_vol_gated_attn, vol_attn_layers, use_topk_moe, moe_n_experts, moe_k, use_diffusion, diffusion_steps)` |
| `CondorBrain.forward` | method | `def CondorBrain.forward(self, x, return_regime, return_experts, return_features, forecast_days, diffusion_target)` |
| `CondorBrain.predict_legacy` | method | `def CondorBrain.predict_legacy(self, x)` |
| `CondorBrain.predict_next_state` | method | `def CondorBrain.predict_next_state(self, x, steps)` |
| `CondorLoss` | class | `class CondorLoss` |
| `CondorLoss.__init__` | method | `def CondorLoss.__init__(self, strike_weight, pnl_weight, risk_weight, prob_weight, regime_weight)` |
| `CondorLoss.forward` | method | `def CondorLoss.forward(self, pred, target, regime_probs, regime_labels)` |
| `CondorBrainEngine` | class | `class CondorBrainEngine` |
| `CondorBrainEngine._as_2d_row` | method | `def CondorBrainEngine._as_2d_row(x, expected_dim)` |
| `CondorBrainEngine._robust_norm_np` | method | `def CondorBrainEngine._robust_norm_np(self, x_np)` |
| `CondorBrainEngine.__init__` | method | `def CondorBrainEngine.__init__(self, model_path, d_model, n_layers, input_dim, lookback, d_state, use_fp16, warmup_iterations, use_vol_gated_attn, use_topk_moe, moe_n_experts, moe_k)` |
| `CondorBrainEngine._find_latest_model` | method | `def CondorBrainEngine._find_latest_model()` |
| `CondorBrainEngine.predict` | method | `def CondorBrainEngine.predict(self, features, forecast_days, skip_trajectory_if_low_conf)` |
| `CondorBrainEngine.predict_batch` | method | `def CondorBrainEngine.predict_batch(self, features_batch, forecast_days)` |
| `CondorBrainEngine.benchmark` | method | `def CondorBrainEngine.benchmark(self, n_iterations)` |

## `intelligence\condor_loss.py`

| Symbol | Kind | Signature |
|---|---|---|
| `CompositeCondorLoss` | class | `class CompositeCondorLoss` |
| `CompositeCondorLoss.__init__` | method | `def CompositeCondorLoss.__init__(self, lambdas, huber_delta, dd_tau)` |
| `CompositeCondorLoss.forward` | method | `def CompositeCondorLoss.forward(self, y_pred, y_true, returns, weights, last_weights, rule_signals)` |
| `CompositeCondorLoss.forward_decomposed` | method | `def CompositeCondorLoss.forward_decomposed(self, y_pred, y_true, returns, weights, last_weights, rule_signals)` |

## `intelligence\defuzzifier.py`

| Symbol | Kind | Signature |
|---|---|---|
| `Defuzzifier` | class | `class Defuzzifier` |
| `Defuzzifier.__init__` | method | `def Defuzzifier.__init__(self, low_vol_threshold, high_vol_threshold)` |
| `Defuzzifier.normalize_volatility` | method | `def Defuzzifier.normalize_volatility(self, realized_vol)` |
| `Defuzzifier.defuzzify` | method | `def Defuzzifier.defuzzify(self, confidence, realized_vol, risk_params)` |

## `intelligence\features\dynamic_features.py`

| Symbol | Kind | Signature |
|---|---|---|
| `compute_curvature_features` | function | `def compute_curvature_features(close, span, alpha)` |
| `compute_log_return` | function | `def compute_log_return(close)` |
| `compute_vol_ewma` | function | `def compute_vol_ewma(close, span)` |
| `compute_atr_pct` | function | `def compute_atr_pct(high, low, close, period)` |
| `compute_dynamic_rsi` | function | `def compute_dynamic_rsi(close, vol_energy, period)` |
| `compute_dynamic_bollinger` | function | `def compute_dynamic_bollinger(close, vol_energy, window, base_k)` |
| `compute_dynamic_psar` | function | `def compute_dynamic_psar(high, low, close, atr_pct, af_start, af_max)` |
| `compute_adaptive_adx` | function | `def compute_adaptive_adx(high, low, close, period, vol_energy)` |
| `compute_dynamic_stochastic` | function | `def compute_dynamic_stochastic(high, low, close, vol_energy, k_period, d_period)` |
| `compute_consolidation_breakout` | function | `def compute_consolidation_breakout(close, bb_sigma_dyn, bb_upper_dyn, bb_lower_dyn, lookback)` |
| `compute_all_dynamic_features` | function | `def compute_all_dynamic_features(df, close_col, high_col, low_col, inplace)` |
| `compute_all_primitive_features_v22` | function | `def compute_all_primitive_features_v22(df, close_col, high_col, low_col, volume_col, spread_col, lag_minutes_col, inplace)` |

## `intelligence\fis_sizer.py`

| Symbol | Kind | Signature |
|---|---|---|
| `FISSizer` | class | `class FISSizer` |
| `FISSizer.__init__` | method | `def FISSizer.__init__(self, cfg)` |
| `FISSizer.size_trade` | method | `def FISSizer.size_trade(self, decision, snapshot, account_equity)` |
| `FISSizer._reject` | method | `def FISSizer._reject(self, decision, reason)` |

## `intelligence\fuzzifier.py`

| Symbol | Kind | Signature |
|---|---|---|
| `Fuzzifier` | class | `class Fuzzifier` |
| `Fuzzifier._atm_iv` | method | `def Fuzzifier._atm_iv(self, chain, spot)` |
| `Fuzzifier.extract_features` | method | `def Fuzzifier.extract_features(self, snapshot)` |
| `Fuzzifier.fuzzify` | method | `def Fuzzifier.fuzzify(self, features)` |

## `intelligence\fuzzy_engine.py`

| Symbol | Kind | Signature |
|---|---|---|
| `compute_base_quantity` | function | `def compute_base_quantity(equity, max_loss_per_contract, risk_fraction)` |
| `compute_fuzzy_confidence` | function | `def compute_fuzzy_confidence(memberships, weights)` |
| `normalize_volatility` | function | `def normalize_volatility(realized_vol, low_vol, high_vol)` |
| `compute_scaling_factor` | function | `def compute_scaling_factor(confidence, volatility_penalty, min_scale)` |
| `compute_position_size` | function | `def compute_position_size(equity, max_loss_per_contract, memberships, weights, realized_vol, low_vol, high_vol, risk_fraction)` |
| `calculate_mtf_membership` | function | `def calculate_mtf_membership(mtf_snapshot)` |
| `calculate_iv_membership` | function | `def calculate_iv_membership(ivr)` |
| `calculate_regime_membership` | function | `def calculate_regime_membership(vix, threshold)` |
| `calculate_rsi_membership` | function | `def calculate_rsi_membership(rsi, neutral_min, neutral_max)` |
| `calculate_adx_membership` | function | `def calculate_adx_membership(adx, threshold_low, threshold_high)` |
| `calculate_bbands_membership` | function | `def calculate_bbands_membership(bb_position, bb_width, squeeze_threshold)` |
| `calculate_stoch_membership` | function | `def calculate_stoch_membership(stoch_k, neutral_min, neutral_max)` |
| `calculate_volume_membership` | function | `def calculate_volume_membership(volume_ratio, min_ratio)` |
| `calculate_sma_distance_membership` | function | `def calculate_sma_distance_membership(sma_distance, max_distance)` |
| `calculate_psar_membership` | function | `def calculate_psar_membership(psar_position)` |
| `calculate_atr_stop_multiplier` | function | `def calculate_atr_stop_multiplier(atr_pct, base_multiplier)` |
| `check_bbands_breakout` | function | `def check_bbands_breakout(bb_position, touch_threshold)` |
| `classify_market_regime` | function | `def classify_market_regime(adx, rsi, vix)` |

## `intelligence\generate_condor_targets.py`

| Symbol | Kind | Signature |
|---|---|---|
| `ICSimConfig` | class | `class ICSimConfig` |
| `ICSimConfig.__post_init__` | method | `def ICSimConfig.__post_init__(self)` |
| `ICSimulator` | class | `class ICSimulator` |
| `ICSimulator.__init__` | method | `def ICSimulator.__init__(self, config)` |
| `ICSimulator.simulate_ic` | method | `def ICSimulator.simulate_ic(self, spot_at_entry, future_prices, call_offset_pct, put_offset_pct, wing_width, credit)` |
| `ICSimulator.find_optimal_strikes` | method | `def ICSimulator.find_optimal_strikes(self, spot_at_entry, future_prices)` |
| `generate_condor_targets` | function | `def generate_condor_targets(df, config, output_path, sample_rate)` |
| `main` | function | `def main()` |

## `intelligence\generative\diffusion.py`

| Symbol | Kind | Signature |
|---|---|---|
| `SinusoidalPositionEmbeddings` | class | `class SinusoidalPositionEmbeddings` |
| `SinusoidalPositionEmbeddings.__init__` | method | `def SinusoidalPositionEmbeddings.__init__(self, dim)` |
| `SinusoidalPositionEmbeddings.forward` | method | `def SinusoidalPositionEmbeddings.forward(self, time)` |
| `ConditionalDiffusionHead` | class | `class ConditionalDiffusionHead` |
| `ConditionalDiffusionHead.__init__` | method | `def ConditionalDiffusionHead.__init__(self, input_dim, cond_dim, hidden_dim, horizon, n_steps)` |
| `ConditionalDiffusionHead.forward` | method | `def ConditionalDiffusionHead.forward(self, x_start, condition, t)` |
| `ConditionalDiffusionHead.sample` | method | `def ConditionalDiffusionHead.sample(self, condition, n_samples)` |

## `intelligence\indicators\manifold_volatility.py`

| Symbol | Kind | Signature |
|---|---|---|
| `curvature_proxy_from_returns` | function | `def curvature_proxy_from_returns(r, span)` |
| `volatility_energy_from_curvature` | function | `def volatility_energy_from_curvature(kappa, alpha)` |
| `dynamic_rsi` | function | `def dynamic_rsi(close, window, vol_energy)` |
| `compute_manifold_features` | function | `def compute_manifold_features(close, span)` |

## `intelligence\indicators\policy_outputs.py`

| Symbol | Kind | Signature |
|---|---|---|
| `StateBinner` | class | `class StateBinner` |
| `StateBinner.encode` | method | `def StateBinner.encode(self, vol_energy, consolidation, breakout, ivr)` |
| `StateBinner.state_key` | method | `def StateBinner.state_key(self, vol_energy, consolidation, breakout, ivr)` |
| `StateBinner.n_states` | method | `def StateBinner.n_states(self)` |
| `policy_vector_from_row` | function | `def policy_vector_from_row(row, binner, Q, temperature)` |
| `compute_policy_for_dataframe` | function | `def compute_policy_for_dataframe(df, binner, Q, temperature)` |
| `create_uniform_q_table` | function | `def create_uniform_q_table(binner)` |

## `intelligence\indicators\tda_signature.py`

| Symbol | Kind | Signature |
|---|---|---|
| `_takens_embedding` | function | `def _takens_embedding(series, m, tau)` |
| `persistent_signature_ripser` | function | `def persistent_signature_ripser(point_cloud, J)` |
| `compute_pi_series` | function | `def compute_pi_series(close, window, m, tau, J)` |
| `is_ripser_available` | function | `def is_ripser_available()` |

## `intelligence\inference_engine.py`

| Symbol | Kind | Signature |
|---|---|---|
| `InferenceEngine` | class | `class InferenceEngine` |
| `InferenceEngine.__init__` | method | `def InferenceEngine.__init__(self, weights)` |
| `InferenceEngine.evaluate` | method | `def InferenceEngine.evaluate(self, memberships)` |

## `intelligence\mamba_engine.py`

| Symbol | Kind | Signature |
|---|---|---|
| `DeepMamba` | class | `class DeepMamba` |
| `DeepMamba.__init__` | method | `def DeepMamba.__init__(self, d_model, n_layers, d_state, d_conv, expand, input_dim)` |
| `DeepMamba.forward` | method | `def DeepMamba.forward(self, x)` |
| `MockMambaKernel` | class | `class MockMambaKernel` |
| `MockMambaKernel.__init__` | method | `def MockMambaKernel.__init__(self, d_model)` |
| `MockMambaKernel.__call__` | method | `def MockMambaKernel.__call__(self, x)` |
| `MambaForecastEngine` | class | `class MambaForecastEngine` |
| `MambaForecastEngine.__init__` | method | `def MambaForecastEngine.__init__(self, d_model, n_layers, lookback, input_dim)` |
| `MambaForecastEngine.prepare_features` | method | `def MambaForecastEngine.prepare_features(self, df, options_df)` |
| `MambaForecastEngine.predict` | method | `def MambaForecastEngine.predict(self, df, options_df)` |

## `intelligence\meta_forecaster.py`

| Symbol | Kind | Signature |
|---|---|---|
| `ForecastState` | class | `class ForecastState` |
| `MetaForecaster` | class | `class MetaForecaster` |
| `MetaForecaster.__init__` | method | `def MetaForecaster.__init__(self, fit_window, val_window, horizon, cooldown_k, gamma, tau, alpha, delta, lambda_h, weights)` |
| `MetaForecaster.transform_features` | method | `def MetaForecaster.transform_features(self, df)` |
| `MetaForecaster.reconstruct_ohlcv` | method | `def MetaForecaster.reconstruct_ohlcv(self, y_pred, last_bar)` |
| `MetaForecaster._huber_loss` | method | `def MetaForecaster._huber_loss(self, e)` |
| `MetaForecaster.epsilon_error` | method | `def MetaForecaster.epsilon_error(self, y_true, y_pred)` |
| `MetaForecaster._solve_yw` | method | `def MetaForecaster._solve_yw(self, x, p)` |
| `MetaForecaster._solve_burg` | method | `def MetaForecaster._solve_burg(self, x, p)` |
| `MetaForecaster._forecast_ar` | method | `def MetaForecaster._forecast_ar(self, coeffs, history, horizon)` |
| `MetaForecaster._solve_cov` | method | `def MetaForecaster._solve_cov(self, x, p)` |
| `MetaForecaster._solve_mcov` | method | `def MetaForecaster._solve_mcov(self, x, p)` |
| `MetaForecaster.fit_predict_method` | method | `def MetaForecaster.fit_predict_method(self, method, p, y_window)` |
| `MetaForecaster.fit_predict` | method | `def MetaForecaster.fit_predict(self, ohlcv_window, condor_forecast)` |

## `intelligence\primitives\bands.py`

| Symbol | Kind | Signature |
|---|---|---|
| `compute_dynamic_bollinger_bands` | function | `def compute_dynamic_bollinger_bands(close, window, k0, alpha, volatility_energy)` |
| `_percentile_series` | function | `def _percentile_series(x, window)` |
| `compute_bandwidth_percentile_and_expansion` | function | `def compute_bandwidth_percentile_and_expansion(bandwidth, window, expansion_lookback)` |
| `compute_volume_ratio` | function | `def compute_volume_ratio(volume, window)` |
| `compute_spread_friction_ratio` | function | `def compute_spread_friction_ratio(high, low, spread, n, atr_norm, vol_ratio, bandwidth, event_flag, theta0, a, b, c, d, theta_min, theta_max, n_bars)` |
| `compute_gap_risk_score` | function | `def compute_gap_risk_score(event_flag, atr_spike, bw_expansion, late_day_flag, w_event, w_atr, w_bw, w_late, g_crit)` |
| `compute_iv_confidence` | function | `def compute_iv_confidence(lag_minutes, lambda_decay)` |
| `compute_mtf_consensus` | function | `def compute_mtf_consensus(signal_1m, signal_5m, signal_15m, w_1m, w_5m, w_15m)` |

## `intelligence\primitives\fuzzy.py`

| Symbol | Kind | Signature |
|---|---|---|
| `compute_fuzzy_reversion_score_11` | function | `def compute_fuzzy_reversion_score_11(mu_mtf, mu_ivr, mu_vix, mu_rsi, mu_stoch, mu_adx, mu_sma, mu_psar, mu_bb, mu_bbsqueeze, mu_vol, w_mtf, w_ivr, w_vix, w_rsi, w_stoch, w_adx, w_sma, w_psar, w_bb, w_bbsqueeze, w_vol)` |

## `intelligence\primitives\gates_extended.py`

| Symbol | Kind | Signature |
|---|---|---|
| `compute_trend_strength_gate` | function | `def compute_trend_strength_gate(adx_adaptive, threshold)` |
| `compute_reversion_fuzzy_gate` | function | `def compute_reversion_fuzzy_gate(threshold, fuzzy_reversion_11)` |
| `compute_chaos_risk_gate` | function | `def compute_chaos_risk_gate(chaos_membership, max_chaos)` |
| `compute_regime_score_gate` | function | `def compute_regime_score_gate(regime_score, min_score)` |
| `compute_liquidity_gate` | function | `def compute_liquidity_gate(volume_ratio, min_ratio, threshold)` |
| `compute_spread_liquidity_combo_gate` | function | `def compute_spread_liquidity_combo_gate(exec_allow, liquidity_ok)` |
| `compute_gap_override_gate` | function | `def compute_gap_override_gate(risk_override)` |
| `compute_position_size_gate` | function | `def compute_position_size_gate(position_size_multiplier, min_mult)` |

## `intelligence\primitives\momentum.py`

| Symbol | Kind | Signature |
|---|---|---|
| `_ema` | function | `def _ema(series, span)` |
| `compute_vol_normalized_macd` | function | `def compute_vol_normalized_macd(close, fast, slow, signal, vol_ewma)` |
| `compute_vol_normalized_adx` | function | `def compute_vol_normalized_adx(high, low, close, period, beta, volatility_energy)` |
| `compute_dynamic_rsi` | function | `def compute_dynamic_rsi(close, period, curvature_proxy, gamma)` |
| `compute_psar_flip_membership` | function | `def compute_psar_flip_membership(close, psar, psar_trend, psar_adaptive)` |

## `intelligence\primitives\signals.py`

| Symbol | Kind | Signature |
|---|---|---|
| `compute_macd_trend_signal` | function | `def compute_macd_trend_signal(macd_norm, signal_norm, threshold)` |
| `compute_band_squeeze_breakout_signal` | function | `def compute_band_squeeze_breakout_signal(bw_percentile, expansion_rate, breakout_score, pct_thresh, expansion_thresh, bb_percentile, bw_expansion_rate)` |
| `compute_rsi_reversion_signal` | function | `def compute_rsi_reversion_signal(rsi_dynamic, lower, upper)` |
| `compute_mtf_alignment_signal` | function | `def compute_mtf_alignment_signal(mtf_consensus, min_abs)` |
| `compute_fuzzy_reversion_signal` | function | `def compute_fuzzy_reversion_signal(fuzzy_reversion_11, entry_thresh, exit_thresh)` |
| `compute_gap_event_signal` | function | `def compute_gap_event_signal(gap_risk_score, risk_override, warn_level)` |
| `compute_chaos_dampening_signal` | function | `def compute_chaos_dampening_signal(chaos_membership, position_size_multiplier, chaos_warn)` |
| `compute_regime_shift_signal` | function | `def compute_regime_shift_signal(regime_score, threshold_high, threshold_low)` |
| `compute_liquidity_exec_signal` | function | `def compute_liquidity_exec_signal(exec_liquidity_ok)` |
| `compute_trend_follow_entry_signal` | function | `def compute_trend_follow_entry_signal(trend_up, trend_down, trend_ok)` |
| `compute_reversion_vs_trend_conflict_signal` | function | `def compute_reversion_vs_trend_conflict_signal(reversion_ok, trend_ok)` |
| `compute_spread_block_signal` | function | `def compute_spread_block_signal(exec_allow)` |
| `compute_gap_exit_signal` | function | `def compute_gap_exit_signal(force_exit)` |
| `compute_size_adjustment_signal` | function | `def compute_size_adjustment_signal(size_mult)` |
| `compute_final_execution_signal` | function | `def compute_final_execution_signal(can_execute, spread_block, gap_force_exit)` |
| `compute_bandwidth_expansion_signal` | function | `def compute_bandwidth_expansion_signal(expansion_rate, threshold)` |
| `compute_psar_flip_membership` | function | `def compute_psar_flip_membership(psar, psar_trend, psar_reversion_mu)` |

## `intelligence\primitives\topology.py`

| Symbol | Kind | Signature |
|---|---|---|
| `compute_beta1_regime_score` | function | `def compute_beta1_regime_score(beta1_raw, window, curvature_proxy, volatility_energy, alpha, beta, lag_minutes, lambda_decay, beta1_norm_stub)` |
| `compute_chaos_membership` | function | `def compute_chaos_membership(beta1_gated, chaos_threshold, relax_threshold, vol_energy)` |

## `intelligence\regime_filter.py`

| Symbol | Kind | Signature |
|---|---|---|
| `MarketRegime` | class | `class MarketRegime` |
| `classify_regime` | function | `def classify_regime(df, current_idx, vix_level)` |
| `check_liquidity_gate` | function | `def check_liquidity_gate(data, spread_estimate)` |

## `intelligence\rule_engine\dsl_parser.py`

| Symbol | Kind | Signature |
|---|---|---|
| `PrimitiveSpec` | class | `class PrimitiveSpec` |
| `SignalLogicSpec` | class | `class SignalLogicSpec` |
| `GateSpec` | class | `class GateSpec` |
| `RuleSpec` | class | `class RuleSpec` |
| `Ruleset` | class | `class Ruleset` |
| `RuleDSLParser` | class | `class RuleDSLParser` |
| `RuleDSLParser.__init__` | method | `def RuleDSLParser.__init__(self, path)` |
| `RuleDSLParser.load` | method | `def RuleDSLParser.load(self)` |

## `intelligence\rule_engine\executor.py`

| Symbol | Kind | Signature |
|---|---|---|
| `LogicEvaluator` | class | `class LogicEvaluator` |
| `LogicEvaluator.__init__` | method | `def LogicEvaluator.__init__(self, context)` |
| `LogicEvaluator._get_value` | method | `def LogicEvaluator._get_value(self, token)` |
| `LogicEvaluator.evaluate` | method | `def LogicEvaluator.evaluate(self, expr)` |
| `RuleExecutionEngine` | class | `class RuleExecutionEngine` |
| `RuleExecutionEngine.__init__` | method | `def RuleExecutionEngine.__init__(self, ruleset, registry)` |
| `RuleExecutionEngine._compute_primitives` | method | `def RuleExecutionEngine._compute_primitives(self, rule, data)` |
| `RuleExecutionEngine._evaluate_signal_logic` | method | `def RuleExecutionEngine._evaluate_signal_logic(self, rule, primitives, data)` |
| `RuleExecutionEngine._apply_gate_stack` | method | `def RuleExecutionEngine._apply_gate_stack(self, rule, primitives, signals, data)` |
| `RuleExecutionEngine.execute` | method | `def RuleExecutionEngine.execute(self, data)` |

## `intelligence\sweep_condor_brain.py`

| Symbol | Kind | Signature |
|---|---|---|
| `LazySequenceDataset` | class | `class LazySequenceDataset` |
| `LazySequenceDataset.__init__` | method | `def LazySequenceDataset.__init__(self, features, targets, regimes, lookback)` |
| `LazySequenceDataset.__len__` | method | `def LazySequenceDataset.__len__(self)` |
| `LazySequenceDataset.__getitem__` | method | `def LazySequenceDataset.__getitem__(self, idx)` |
| `load_and_prep_data` | function | `def load_and_prep_data(csv_path, max_rows)` |
| `train_one_config` | function | `def train_one_config(args, config, datasets, device)` |
| `EvolutionaryOptimizer` | class | `class EvolutionaryOptimizer` |
| `EvolutionaryOptimizer.__init__` | method | `def EvolutionaryOptimizer.__init__(self, iterations)` |
| `EvolutionaryOptimizer.get_next_config` | method | `def EvolutionaryOptimizer.get_next_config(self, iteration)` |
| `EvolutionaryOptimizer.update` | method | `def EvolutionaryOptimizer.update(self, config, loss)` |
| `EvolutionaryOptimizer` | class | `class EvolutionaryOptimizer` |
| `EvolutionaryOptimizer.__init__` | method | `def EvolutionaryOptimizer.__init__(self, iterations)` |
| `EvolutionaryOptimizer.get_next_config` | method | `def EvolutionaryOptimizer.get_next_config(self, iteration)` |
| `EvolutionaryOptimizer.update` | method | `def EvolutionaryOptimizer.update(self, config, loss)` |
| `main` | function | `def main()` |

## `intelligence\test_meta.py`

| Symbol | Kind | Signature |
|---|---|---|
| `test_meta_forecaster` | function | `def test_meta_forecaster()` |

## `intelligence\topk_moe.py`

| Symbol | Kind | Signature |
|---|---|---|
| `TopKMoE` | class | `class TopKMoE` |
| `TopKMoE.__init__` | method | `def TopKMoE.__init__(self, d_model, output_dim, n_experts, k, hidden_ratio)` |
| `TopKMoE.forward` | method | `def TopKMoE.forward(self, E)` |
| `TopKMoE.forward_with_routing` | method | `def TopKMoE.forward_with_routing(self, E)` |
| `BatchedTopKMoE` | class | `class BatchedTopKMoE` |
| `BatchedTopKMoE.__init__` | method | `def BatchedTopKMoE.__init__(self, d_model, output_dim, n_experts, k, hidden_ratio)` |
| `BatchedTopKMoE.forward` | method | `def BatchedTopKMoE.forward(self, E)` |

## `intelligence\train_condor_brain.py`

| Symbol | Kind | Signature |
|---|---|---|
| `probe_fast_kernels` | function | `def probe_fast_kernels()` |
| `safe_nan_to_num` | function | `def safe_nan_to_num(X)` |
| `robust_zscore_fit` | function | `def robust_zscore_fit(X)` |
| `robust_zscore_transform` | function | `def robust_zscore_transform(X, med, scale, clip_val)` |
| `clamp_targets` | function | `def clamp_targets(y)` |
| `debug_tensor_stats` | function | `def debug_tensor_stats(name, X)` |
| `prepare_features` | function | `def prepare_features(df)` |
| `BatchedSequenceDataset` | class | `class BatchedSequenceDataset` |
| `BatchedSequenceDataset.__init__` | method | `def BatchedSequenceDataset.__init__(self, X2d, y2d, r1d, lookback, batch_size, drop_last, pin_memory)` |
| `BatchedSequenceDataset.__len__` | method | `def BatchedSequenceDataset.__len__(self)` |
| `BatchedSequenceDataset.__iter__` | method | `def BatchedSequenceDataset.__iter__(self)` |
| `parse_args` | function | `def parse_args()` |
| `train_condor_brain` | function | `def train_condor_brain(args)` |

## `intelligence\train_mamba.py`

| Symbol | Kind | Signature |
|---|---|---|
| `str2bool` | function | `def str2bool(v)` |
| `parse_args` | function | `def parse_args()` |
| `download_alpaca_data` | function | `def download_alpaca_data(key, secret, symbol, years, tf_str, use_qqq)` |
| `CompositeLoss` | class | `class CompositeLoss` |
| `CompositeLoss.__init__` | method | `def CompositeLoss.__init__(self, delta, alpha, lambd, sign_weight)` |
| `CompositeLoss.forward` | method | `def CompositeLoss.forward(self, pred, target)` |
| `prepare_features` | function | `def prepare_features(df, options_df, use_qqq)` |
| `create_sequences` | function | `def create_sequences(X, y, lookback)` |
| `get_alpaca_keys` | function | `def get_alpaca_keys(args)` |
| `run_download` | function | `def run_download(args)` |
| `run_training` | function | `def run_training(args)` |
| `main` | function | `def main()` |

## `intelligence\training_monitor.py`

| Symbol | Kind | Signature |
|---|---|---|
| `HeadMetrics` | class | `class HeadMetrics` |
| `TrainingState` | class | `class TrainingState` |
| `TrainingMonitor` | class | `class TrainingMonitor` |
| `TrainingMonitor.__init__` | method | `def TrainingMonitor.__init__(self, checkpoint_capacity, plot_dir)` |
| `TrainingMonitor.update` | method | `def TrainingMonitor.update(self, epoch, train_loss, val_loss, head_val_losses, model, optimizer, scheduler)` |
| `TrainingMonitor.get_best_checkpoint` | method | `def TrainingMonitor.get_best_checkpoint(self)` |
| `TrainingMonitor.restore_best` | method | `def TrainingMonitor.restore_best(self, model, optimizer)` |
| `TrainingMonitor.print_summary` | method | `def TrainingMonitor.print_summary(self)` |
| `TrainingMonitor.save_analytics_to_file` | method | `def TrainingMonitor.save_analytics_to_file(self, output_dir)` |
| `TrainingMonitor.save_epoch_snapshot` | method | `def TrainingMonitor.save_epoch_snapshot(self, epoch, total_epochs, output_dir)` |
| `TrainingMonitor.save_plot_to_file` | method | `def TrainingMonitor.save_plot_to_file(self, epoch, total_epochs, output_path)` |
| `TrainingMonitor.display_inline` | method | `def TrainingMonitor.display_inline(self, epoch, total_epochs)` |
| `TrainingMonitor.save_checkpoint_to_disk` | method | `def TrainingMonitor.save_checkpoint_to_disk(self, path, checkpoint)` |
| `compute_val_head_losses` | function | `def compute_val_head_losses(model, get_batch_fn, n_batches, device, amp_dtype)` |
| `sample_predictions` | function | `def sample_predictions(model, get_batch_fn, device, amp_dtype, n_samples)` |
| `visualize_predictions` | function | `def visualize_predictions(samples, epoch, total_epochs, head_losses, output_path, plot_dir)` |
| `display_predictions_inline` | function | `def display_predictions_inline(samples, epoch, total_epochs, head_losses, plot_dir)` |

## `intelligence\vol_gated_attn.py`

| Symbol | Kind | Signature |
|---|---|---|
| `VolGatedAttn` | class | `class VolGatedAttn` |
| `VolGatedAttn.__init__` | method | `def VolGatedAttn.__init__(self, d_model, n_heads, dropout)` |
| `VolGatedAttn.forward` | method | `def VolGatedAttn.forward(self, E, key_padding_mask)` |
| `VolGatedAttn.forward_with_gate` | method | `def VolGatedAttn.forward_with_gate(self, E, key_padding_mask)` |
| `VolGatedAttnBlock` | class | `class VolGatedAttnBlock` |
| `VolGatedAttnBlock.__init__` | method | `def VolGatedAttnBlock.__init__(self, d_model, n_heads, ffn_ratio, dropout)` |
| `VolGatedAttnBlock.forward` | method | `def VolGatedAttnBlock.forward(self, x)` |

## `qtmf\facade.py`

| Symbol | Kind | Signature |
|---|---|---|
| `_clamp` | function | `def _clamp(x, lo, hi)` |
| `_derive_put_call_weights` | function | `def _derive_put_call_weights(direction_probs, gaussian_confidence)` |
| `benchmark_and_size` | function | `def benchmark_and_size(trade_intent)` |

## `qtmf\models.py`

| Symbol | Kind | Signature |
|---|---|---|
| `TradeIntent` | class | `class TradeIntent` |
| `TradeIntent.to_dict` | method | `def TradeIntent.to_dict(self)` |
| `SizingPlan` | class | `class SizingPlan` |
| `SizingPlan.to_dict` | method | `def SizingPlan.to_dict(self)` |

## `risk\beta_weighting.py`

| Symbol | Kind | Signature |
|---|---|---|
| `BetaCalculator` | class | `class BetaCalculator` |
| `BetaCalculator.__init__` | method | `def BetaCalculator.__init__(self, benchmark_returns)` |
| `BetaCalculator.calculate_beta` | method | `def BetaCalculator.calculate_beta(self, asset_returns)` |
| `BetaCalculator.beta_weight_delta` | method | `def BetaCalculator.beta_weight_delta(self, delta, beta)` |

## `risk\expected_shortfall.py`

| Symbol | Kind | Signature |
|---|---|---|
| `ExpectedShortfall` | class | `class ExpectedShortfall` |
| `ExpectedShortfall.__init__` | method | `def ExpectedShortfall.__init__(self, confidence_level, lookback_window)` |
| `ExpectedShortfall.calculate_cvar` | method | `def ExpectedShortfall.calculate_cvar(self, returns)` |
| `ExpectedShortfall.estimate_portfolio_cvar` | method | `def ExpectedShortfall.estimate_portfolio_cvar(self, portfolio_value, benchmark_returns, beta)` |

## `risk\pot_monitor.py`

| Symbol | Kind | Signature |
|---|---|---|
| `POTMonitor` | class | `class POTMonitor` |
| `POTMonitor.__init__` | method | `def POTMonitor.__init__(self)` |
| `POTMonitor.probability_of_touch` | method | `def POTMonitor.probability_of_touch(self, spot, strike, iv, dte, drift)` |
| `POTMonitor.check_condor_touch` | method | `def POTMonitor.check_condor_touch(self, spot, short_call, short_put, iv, dte)` |

## `risk\structure_validator.py`

| Symbol | Kind | Signature |
|---|---|---|
| `StructureValidator` | class | `class StructureValidator` |
| `StructureValidator.validate_iron_condor` | method | `def StructureValidator.validate_iron_condor(self, legs)` |

## `run_live_alpaca.py`

| Symbol | Kind | Signature |
|---|---|---|
| `robust_zscore_fit` | function | `def robust_zscore_fit(X)` |
| `robust_zscore_transform` | function | `def robust_zscore_transform(X, median, mad, clip_val)` |
| `fetch_live_data` | function | `def fetch_live_data(client, symbol, lookback_bars)` |
| `run_live_loop` | function | `def run_live_loop(executor, model, ruleset, device)` |

## `scripts\analyze_v21_dataset.py`

| Symbol | Kind | Signature |
|---|---|---|
| `analyze_dataset` | function | `def analyze_dataset(filepath)` |

## `scripts\audit_ohlcv_groups.py`

| Symbol | Kind | Signature |
|---|---|---|
| `audit_ohlcv_groups` | function | `def audit_ohlcv_groups(file_path, output_csv)` |

## `scripts\backtest\run_backtest_mtf.py`

| Symbol | Kind | Signature |
|---|---|---|
| `main` | function | `def main()` |

## `scripts\backtest\run_backtest_standard.py`

| Symbol | Kind | Signature |
|---|---|---|
| `main` | function | `def main()` |

## `scripts\backtest\run_full_backtest.py`

| Symbol | Kind | Signature |
|---|---|---|
| `main` | function | `def main()` |

## `scripts\backtest\run_stress_test.py`

| Symbol | Kind | Signature |
|---|---|---|
| `run_stress_test` | function | `def run_stress_test()` |

## `scripts\backtest\run_validation_backtest.py`

| Symbol | Kind | Signature |
|---|---|---|
| `main` | function | `def main()` |

## `scripts\build_dataset_v3.py`

| Symbol | Kind | Signature |
|---|---|---|
| `black_scholes_price` | function | `def black_scholes_price(S, K, T, r, sigma, option_type)` |
| `calculate_greeks` | function | `def calculate_greeks(S, K, T, r, sigma, option_type)` |
| `load_data` | function | `def load_data()` |
| `generate_2024_synthetic` | function | `def generate_2024_synthetic(spot_df)` |
| `generate_2025_hybrid` | function | `def generate_2025_hybrid(spot_df, ivol_df)` |

## `scripts\check_processed_data.py`

| Symbol | Kind | Signature |
|---|---|---|
| `format_bytes` | function | `def format_bytes(size)` |
| `check_file` | function | `def check_file(filepath)` |
| `main` | function | `def main()` |

## `scripts\construct_15m_foundation.py`

| Symbol | Kind | Signature |
|---|---|---|
| `extract_cp` | function | `def extract_cp(symbol)` |
| `construct_foundation` | function | `def construct_foundation()` |

## `scripts\construct_foundation_1m.py`

| Symbol | Kind | Signature |
|---|---|---|
| `black_scholes_vec` | function | `def black_scholes_vec(S, K, T, r, sigma, option_type)` |
| `extract_cp_from_symbol` | function | `def extract_cp_from_symbol(symbol)` |
| `construct_foundation_1m` | function | `def construct_foundation_1m()` |

## `scripts\create_synthetic_2025.py`

| Symbol | Kind | Signature |
|---|---|---|
| `create_synthetic_2025` | function | `def create_synthetic_2025()` |

## `scripts\fix_colab_headers.py`

| Symbol | Kind | Signature |
|---|---|---|
| `fix_csv_headers` | function | `def fix_csv_headers()` |

## `scripts\homework_check.py`

| Symbol | Kind | Signature |
|---|---|---|
| `check_options_data` | function | `def check_options_data(file_path)` |

## `scripts\homework_generate.py`

| Symbol | Kind | Signature |
|---|---|---|
| `generate_mamba_table` | function | `def generate_mamba_table(spot_file, options_file, output_file)` |

## `scripts\precompute_features.py`

| Symbol | Kind | Signature |
|---|---|---|
| `_human` | function | `def _human(n)` |
| `main` | function | `def main()` |

## `scripts\regenerate_v21_dataset.py`

| Symbol | Kind | Signature |
|---|---|---|
| `main` | function | `def main()` |

## `scripts\repair_2025_dataset.py`

| Symbol | Kind | Signature |
|---|---|---|
| `repair_and_extract_2025` | function | `def repair_and_extract_2025()` |

## `scripts\run_production_pipeline.py`

| Symbol | Kind | Signature |
|---|---|---|
| `run_script` | function | `def run_script(script_path)` |
| `main` | function | `def main()` |

## `scripts\split_v21_dataset.py`

| Symbol | Kind | Signature |
|---|---|---|
| `split_dataset` | function | `def split_dataset()` |

## `scripts\tests\test_fis_pipeline.py`

| Symbol | Kind | Signature |
|---|---|---|
| `TestFISPipeline` | class | `class TestFISPipeline` |
| `TestFISPipeline.setUp` | method | `def TestFISPipeline.setUp(self)` |
| `TestFISPipeline.test_full_sizing_flow` | method | `def TestFISPipeline.test_full_sizing_flow(self)` |
| `TestFISPipeline.test_high_volatility_scaling` | method | `def TestFISPipeline.test_high_volatility_scaling(self)` |

## `scripts\tests\test_risk_manager.py`

| Symbol | Kind | Signature |
|---|---|---|
| `create_mock_quote` | function | `def create_mock_quote(delta, gamma, vega, theta)` |
| `test_risk_manager_caps` | function | `def test_risk_manager_caps()` |
| `test_drawdown_stop` | function | `def test_drawdown_stop()` |

## `scripts\tests\test_stage2_logic.py`

| Symbol | Kind | Signature |
|---|---|---|
| `MockConfig` | class | `class MockConfig` |
| `TestStage2Logic` | class | `class TestStage2Logic` |
| `TestStage2Logic.test_classify_market_regime` | method | `def TestStage2Logic.test_classify_market_regime(self)` |
| `TestStage2Logic.test_regime_wing_width` | method | `def TestStage2Logic.test_regime_wing_width(self)` |
| `TestStage2Logic.test_calculate_skew` | method | `def TestStage2Logic.test_calculate_skew(self)` |
| `TestStage2Logic.test_breach_probability` | method | `def TestStage2Logic.test_breach_probability(self)` |
| `TestStage2Logic.test_nearest_by_delta_skew_logic` | method | `def TestStage2Logic.test_nearest_by_delta_skew_logic(self)` |

## `scripts\utils\validate_and_sort_data.py`

| Symbol | Kind | Signature |
|---|---|---|
| `validate_and_sort` | function | `def validate_and_sort(file_path, date_col, timestamp_col)` |

## `scripts\validate_v3_dataset.py`

| Symbol | Kind | Signature |
|---|---|---|
| `validate` | function | `def validate(file_path)` |

## `scripts\verify_data_integrity.py`

| Symbol | Kind | Signature |
|---|---|---|
| `verify_data_integrity` | function | `def verify_data_integrity()` |

## `scripts\verify_ruleset_loading.py`

| Symbol | Kind | Signature |
|---|---|---|
| `verify_ruleset` | function | `def verify_ruleset()` |

## `strategies\options_strategy.py`

| Symbol | Kind | Signature |
|---|---|---|
| `lag_weighted_edge` | function | `def lag_weighted_edge(edge, iv_conf, align_mode, cfg)` |
| `OptionsStrategy` | class | `class OptionsStrategy` |
| `OptionsStrategy.__init__` | method | `def OptionsStrategy.__init__(self, cfg)` |
| `OptionsStrategy.alignment_policy` | method | `def OptionsStrategy.alignment_policy(self)` |
| `PositionState` | class | `class PositionState` |
| `calc_spread_credit` | function | `def calc_spread_credit(short, long)` |
| `calc_condor_credit` | function | `def calc_condor_credit(legs)` |
| `max_loss` | function | `def max_loss(wing_width, total_credit)` |
| `within_delta_band` | function | `def within_delta_band(opt, target_low, target_high)` |
| `pick_expiration` | function | `def pick_expiration(expirations, cfg, today)` |
| `calculate_skew` | function | `def calculate_skew(chain)` |
| `nearest_by_delta` | function | `def nearest_by_delta(quotes, is_call, target_low, target_high, atm_iv, market_skew)` |
| `pick_long_by_width` | function | `def pick_long_by_width(chain, short_leg, is_call, wing_width)` |
| `regime_wing_width` | function | `def regime_wing_width(cfg, iv_rank, vix, regime)` |
| `optimize_wing_width` | function | `def optimize_wing_width(cfg, historical_credit_curve)` |
| `build_condor` | function | `def build_condor(chain, cfg, today, spot, base_wing_width)` |
| `get_condor_brain` | function | `def get_condor_brain()` |
| `build_condor_neural` | function | `def build_condor_neural(chain, cfg, today, spot, features)` |
| `can_enter_trade` | function | `def can_enter_trade(broker, cfg)` |
| `check_mtf_alignment` | function | `def check_mtf_alignment(cfg, mtf_snapshot)` |
| `calculate_breach_probability` | function | `def calculate_breach_probability(delta)` |
| `validate_pricing_and_risk` | function | `def validate_pricing_and_risk(legs, width, cfg, acct_equity)` |
| `generate_trade_signal` | function | `def generate_trade_signal(broker, cfg, today, historical_credit_curve, quantity, mtf_snapshot, liquidity_data)` |
| `estimate_pnl` | function | `def estimate_pnl(position, current_quotes)` |
| `breached_short_strike` | function | `def breached_short_strike(spot, legs)` |
| `net_position_delta` | function | `def net_position_delta(legs, quantity)` |
| `maybe_dynamic_delta_hedge` | function | `def maybe_dynamic_delta_hedge(broker, cfg, pos, current)` |
| `manage_positions` | function | `def manage_positions(broker, cfg, today)` |
| `run_strategy` | function | `def run_strategy(broker, cfg, historical_credit_curve, quantity)` |

## `tests\conftest.py`

| Symbol | Kind | Signature |
|---|---|---|
| `sample_prices` | function | `def sample_prices()` |
| `sample_bars_5m` | function | `def sample_bars_5m()` |
| `sample_spread_series` | function | `def sample_spread_series()` |

## `tests\test_beta_weighting.py`

| Symbol | Kind | Signature |
|---|---|---|
| `test_beta_weighted_delta` | function | `def test_beta_weighted_delta()` |

## `tests\test_divergence.py`

| Symbol | Kind | Signature |
|---|---|---|
| `test_zscore_bounds` | function | `def test_zscore_bounds(sample_spread_series)` |

## `tests\test_engine_lifecycle.py`

| Symbol | Kind | Signature |
|---|---|---|
| `test_engine_lifecycle_smoke` | function | `def test_engine_lifecycle_smoke()` |

## `tests\test_fis_sizer.py`

| Symbol | Kind | Signature |
|---|---|---|
| `test_fis_monotonicity` | function | `def test_fis_monotonicity()` |
| `test_centroid_range` | function | `def test_centroid_range()` |

## `tests\test_gap.py`

| Symbol | Kind | Signature |
|---|---|---|
| `test_small_gap_threshold` | function | `def test_small_gap_threshold()` |

## `tests\test_iron_condor_sizing.py`

| Symbol | Kind | Signature |
|---|---|---|
| `TestIronCondorMinimumQuantity` | class | `class TestIronCondorMinimumQuantity` |
| `TestIronCondorMinimumQuantity.test_fallback_respects_two_wing_minimum` | method | `def TestIronCondorMinimumQuantity.test_fallback_respects_two_wing_minimum(self)` |
| `TestIronCondorMinimumQuantity.test_scaling_never_reduces_below_floor` | method | `def TestIronCondorMinimumQuantity.test_scaling_never_reduces_below_floor(self)` |
| `TestIronCondorMinimumQuantity.test_both_wings_get_at_least_one_contract` | method | `def TestIronCondorMinimumQuantity.test_both_wings_get_at_least_one_contract(self)` |
| `TestIronCondorMinimumQuantity.test_rejection_when_confidence_too_low` | method | `def TestIronCondorMinimumQuantity.test_rejection_when_confidence_too_low(self)` |
| `TestIronCondorMinimumQuantity.test_configurable_minimum_is_respected` | method | `def TestIronCondorMinimumQuantity.test_configurable_minimum_is_respected(self)` |
| `TestSingleLegStrategies` | class | `class TestSingleLegStrategies` |
| `TestSingleLegStrategies.test_single_leg_allows_one_contract` | method | `def TestSingleLegStrategies.test_single_leg_allows_one_contract(self)` |

## `tests\test_ivol_concurrency.py`

| Symbol | Kind | Signature |
|---|---|---|
| `fetch_single` | function | `def fetch_single(option_id)` |
| `test_concurrency` | function | `def test_concurrency(workers)` |

## `tests\test_meta_forecaster.py`

| Symbol | Kind | Signature |
|---|---|---|
| `create_dummy_ohlcv` | function | `def create_dummy_ohlcv(n)` |
| `test_initialization` | function | `def test_initialization()` |
| `test_transform_features` | function | `def test_transform_features()` |
| `test_fit_predict_smoke` | function | `def test_fit_predict_smoke()` |
| `test_solvers` | function | `def test_solvers()` |

## `tests\test_model_enhancements.py`

| Symbol | Kind | Signature |
|---|---|---|
| `TestCompositeCondorLoss` | class | `class TestCompositeCondorLoss` |
| `TestCompositeCondorLoss.test_forward_basic` | method | `def TestCompositeCondorLoss.test_forward_basic(self)` |
| `TestCompositeCondorLoss.test_forward_with_returns` | method | `def TestCompositeCondorLoss.test_forward_with_returns(self)` |
| `TestCompositeCondorLoss.test_forward_with_turnover` | method | `def TestCompositeCondorLoss.test_forward_with_turnover(self)` |
| `TestCompositeCondorLoss.test_decomposed_output` | method | `def TestCompositeCondorLoss.test_decomposed_output(self)` |
| `TestVolGatedAttn` | class | `class TestVolGatedAttn` |
| `TestVolGatedAttn.test_forward_shapes` | method | `def TestVolGatedAttn.test_forward_shapes(self)` |
| `TestVolGatedAttn.test_gate_range` | method | `def TestVolGatedAttn.test_gate_range(self)` |
| `TestVolGatedAttn.test_residual_block` | method | `def TestVolGatedAttn.test_residual_block(self)` |
| `TestTopKMoE` | class | `class TestTopKMoE` |
| `TestTopKMoE.test_forward_shapes` | method | `def TestTopKMoE.test_forward_shapes(self)` |
| `TestTopKMoE.test_routing_probabilities` | method | `def TestTopKMoE.test_routing_probabilities(self)` |
| `TestTopKMoE.test_batched_moe` | method | `def TestTopKMoE.test_batched_moe(self)` |
| `TestManifoldVolatility` | class | `class TestManifoldVolatility` |
| `TestManifoldVolatility.test_curvature_proxy_no_nan` | method | `def TestManifoldVolatility.test_curvature_proxy_no_nan(self)` |
| `TestManifoldVolatility.test_volatility_energy_non_negative` | method | `def TestManifoldVolatility.test_volatility_energy_non_negative(self)` |
| `TestManifoldVolatility.test_dynamic_rsi_range` | method | `def TestManifoldVolatility.test_dynamic_rsi_range(self)` |
| `TestManifoldVolatility.test_compute_manifold_features` | method | `def TestManifoldVolatility.test_compute_manifold_features(self)` |
| `TestTDASignature` | class | `class TestTDASignature` |
| `TestTDASignature.test_takens_embedding_shape` | method | `def TestTDASignature.test_takens_embedding_shape(self)` |
| `TestTDASignature.test_ripser_fallback` | method | `def TestTDASignature.test_ripser_fallback(self)` |
| `TestPolicyOutputs` | class | `class TestPolicyOutputs` |
| `TestPolicyOutputs.test_state_binner_encode` | method | `def TestPolicyOutputs.test_state_binner_encode(self)` |
| `TestPolicyOutputs.test_state_binner_n_states` | method | `def TestPolicyOutputs.test_state_binner_n_states(self)` |
| `TestPolicyOutputs.test_policy_vector_sums_to_one` | method | `def TestPolicyOutputs.test_policy_vector_sums_to_one(self)` |
| `TestIntegration` | class | `class TestIntegration` |
| `TestIntegration.test_loss_with_moe_output` | method | `def TestIntegration.test_loss_with_moe_output(self)` |
| `TestIntegration.test_attn_then_moe` | method | `def TestIntegration.test_attn_then_moe(self)` |

## `tests\test_primitives_bands.py`

| Symbol | Kind | Signature |
|---|---|---|
| `test_dynamic_bollinger_bands_basic` | function | `def test_dynamic_bollinger_bands_basic()` |
| `test_bandwidth_percentile_and_expansion_shapes` | function | `def test_bandwidth_percentile_and_expansion_shapes()` |
| `test_volume_ratio_simple` | function | `def test_volume_ratio_simple()` |
| `test_spread_friction_ratio_exec_allow` | function | `def test_spread_friction_ratio_exec_allow()` |
| `test_gap_risk_score_bounds` | function | `def test_gap_risk_score_bounds()` |
| `test_iv_confidence_monotonic` | function | `def test_iv_confidence_monotonic()` |
| `test_mtf_consensus_range` | function | `def test_mtf_consensus_range()` |

## `tests\test_primitives_fuzzy.py`

| Symbol | Kind | Signature |
|---|---|---|
| `test_fuzzy_reversion_score_range` | function | `def test_fuzzy_reversion_score_range()` |
| `test_fuzzy_score_weight_normalization` | function | `def test_fuzzy_score_weight_normalization()` |

## `tests\test_primitives_momentum.py`

| Symbol | Kind | Signature |
|---|---|---|
| `test_vol_normalized_macd_shapes` | function | `def test_vol_normalized_macd_shapes()` |
| `test_vol_normalized_adx_range` | function | `def test_vol_normalized_adx_range()` |
| `test_dynamic_rsi_basic` | function | `def test_dynamic_rsi_basic()` |
| `test_psar_flip_membership_values` | function | `def test_psar_flip_membership_values()` |

## `tests\test_primitives_topology.py`

| Symbol | Kind | Signature |
|---|---|---|
| `test_beta1_regime_score_shapes` | function | `def test_beta1_regime_score_shapes()` |
| `test_chaos_membership_bounds` | function | `def test_chaos_membership_bounds()` |

## `tests\test_realized_vol.py`

| Symbol | Kind | Signature |
|---|---|---|
| `test_realized_vol_window` | function | `def test_realized_vol_window(sample_prices)` |
| `test_vrp_gate_rejects` | function | `def test_vrp_gate_rejects()` |

## `tests\test_risk_es.py`

| Symbol | Kind | Signature |
|---|---|---|
| `test_es_tail_mean` | function | `def test_es_tail_mean()` |
| `test_es_rejects` | function | `def test_es_rejects()` |

## `tests\test_rule_engine.py`

| Symbol | Kind | Signature |
|---|---|---|
| `mock_primitive_a` | function | `def mock_primitive_a(close, **kwargs)` |
| `mock_primitive_b` | function | `def mock_primitive_b(val, **kwargs)` |
| `mock_gate_block` | function | `def mock_gate_block(score, **kwargs)` |
| `TestLogicEvaluator` | class | `class TestLogicEvaluator` |
| `TestLogicEvaluator.test_basic_evaluation` | method | `def TestLogicEvaluator.test_basic_evaluation(self)` |
| `TestRuleExecutionEngine` | class | `class TestRuleExecutionEngine` |
| `TestRuleExecutionEngine.setup_method` | method | `def TestRuleExecutionEngine.setup_method(self)` |
| `TestRuleExecutionEngine.test_execution_flow` | method | `def TestRuleExecutionEngine.test_execution_flow(self)` |
| `TestRuleExecutionEngine.test_gate_blocking` | method | `def TestRuleExecutionEngine.test_gate_blocking(self)` |

## `tests\test_skew.py`

| Symbol | Kind | Signature |
|---|---|---|
| `test_skew_penalty_triggers` | function | `def test_skew_penalty_triggers()` |

## `tests\test_structure_validator.py`

| Symbol | Kind | Signature |
|---|---|---|
| `test_clamp_min_floor` | function | `def test_clamp_min_floor()` |

## `tests\verify_inference.py`

| Symbol | Kind | Signature |
|---|---|---|
| `verify_inference` | function | `def verify_inference()` |


---

## Repository Sync Addendum (2026-01-24)

This document is part of the synchronized documentation set. The authoritative engineering spec and audit references are:

- `docs/INTEGRATION_PLAN_MASTER.md`
- `docs/INTERFACE_CATALOG.md`

Key alignment requirements:
1. Feature schema selection by **name** (V2.2) only; no CSV order dependence.
2. Dataset column order differs across years; schema validation must be strict.
3. Model config metadata (layers/heads/input_dim) must match deployed checkpoints.

If this document conflicts with the master spec, the master spec governs implementation.
